<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="https://tngeek.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    <title>PicHub</title>

</head>

<body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
</body>
<script>
    Fancybox.bind('[data-fancybox="gallery"]', {
        Toolbar: {
            display: [{
                    id: "counter",
                    position: "center",
                },
                "zoom",
                "slideshow",
                "fullscreen",
                "thumbs",
                "close",
            ],

        },
        on: {
            initLayout: (fancybox) => {
                // Create elements
                // ===

                // Create left column
                const $leftCol = document.createElement("div");
                $leftCol.classList.add("fancybox__leftCol");

                while (fancybox.$container.firstChild) {
                    $leftCol.appendChild(fancybox.$container.firstChild);
                }

                // Create right column
                const $rightCol = document.createElement("div");
                $rightCol.classList.add("fancybox__rightCol");

                function stopDefault(e) {
                    if (e && e.preventDefault)
                        e.preventDefault(); // W3C
                    else
                        window.event.returnValue = false; // Old IE
                }
                $rightCol.onclick = (e) => {
                    stopDefault(e);

                }

                // Create info-box
                const $info = document.createElement("div");
                $rightCol.appendChild($info);
                fancybox.$info = $info;

                // Add elements to DOM
                fancybox.$container.appendChild(fancybox.$backdrop);

                fancybox.$container.appendChild($leftCol);
                fancybox.$container.appendChild($rightCol);

                fancybox.$leftCol = $leftCol;
                fancybox.$rightCol = $rightCol;



            },
            "Carousel.ready Carousel.change": (fancybox, carousel, slideIndex) => {
                // Update info-box
                // ===

                // Get index of the current gallery item
                slideIndex = slideIndex || carousel.options.initialPage;

                // Get link related to current item
                const $trigger = fancybox.items[slideIndex].$trigger;

                // Get data from `data-info` attribute
                const data = $trigger.dataset.info || "";

                // Update info
                fancybox.$info.innerHTML = `<p>${data}</p>`;
            },
        },
    });
</script>

</html>